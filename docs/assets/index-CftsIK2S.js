import{c as I,S as V,A as O,_ as j,d as U,N as F}from"./NavMenu-C69TEO5M.js";import{d as D,r as m,j as $,C as z,b as u,o as x,c as S,f as t,w as r,u as B,p as C,D as A,a as s,k as H,F as P,l as q,i as E,t as R,h as W,e as G}from"./index-vA6JYARe.js";import{P as J}from"./ProductCard-C1O4sHGD.js";import{O as K}from"./Options-DHRISflB.js";const Q={class:"container"},X=D({__name:"Search",setup(N){const l=m(""),d=m({id:"searchDiv",style:{borderRadius:"0px 0px 10px 10px"}}),f=e=>{let n=e.value,i=n.split("|")[1];return Number(n.split("|")[2])===k.value&&document.getElementById("search")===null&&b(),["",C("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",marginTop:"0.5rem",marginBottom:"0.5rem"}},[C(A,{width:"50",src:i}),C("div",{},{default:()=>e.label})]),""]},p=$(),h=e=>{let n=e.split("|")[0];p.replace({name:"Product",query:{id:n,t:new Date().getTime()}})},b=()=>{let e=document.getElementById("searchDiv");if(e===null)return;const n=document.createElement("div");n.id="search",n.innerHTML='<div style="margin-top: 1rem;border-top: 1px solid #0e1b4d;display: flex;justify-content: flex-start;align-items: center"><div style="margin:  0.5rem 1rem;width: 90%">Search for "'+l.value+'"</div><div ><svg style="margin:  0.5rem 1rem;width: 1.5rem;height: 1.5rem" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M268 112l144 144l-144 144"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M392 256H100"></path></svg></div></div>',n.addEventListener("click",_),e.appendChild(n)},_=()=>{g();let e=document.getElementById("searchDiv");if(e===null)return;const n=document.createElement("div");n.id="search",n.innerHTML='<div style="border-radius:0px 0px 10px 10px;background-color: rgba(158,202,238,0.5);margin-top: 1rem;border-top: 1px solid #0e1b4d;display: flex;justify-content: flex-start;align-items: center"><div style="margin:  0.5rem 1rem;width: 90%">Search for "'+l.value+'"</div><div ><svg style="margin:  0.5rem 1rem;width: 1.5rem;height: 1.5rem" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M268 112l144 144l-144 144"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M392 256H100"></path></svg></div></div>',e.appendChild(n),w()},w=()=>{p.replace({name:"SearchResult",query:{search:l.value,t:new Date().getTime()}})},g=()=>{let e=document.getElementById("searchDiv");e!==null&&e.removeChild(document.getElementById("search"))},k=m(0),a=z(()=>{let e=0,n=new RegExp(".*"+l.value+".*","i"),i=I().filter(c=>c.name.match(n));return k.value=i.length,i.map(c=>(e++,{label:c.name,value:c.id+"|"+c.imageUrl+"|"+e}))}),o=e=>{let n=!1;return e!==""&&I().forEach(i=>{let c=new RegExp(".*"+e+".*","i");i.name.match(c)&&(n=!0)}),g(),b(),n};return(e,n)=>{const i=u("n-icon"),c=u("n-auto-complete");return x(),S("div",Q,[t(c,{style:{width:"20rem"},value:l.value,"onUpdate:value":n[0]||(n[0]=y=>l.value=y),options:a.value,"render-label":f,placeholder:"Search...","get-show":o,"menu-props":d.value,size:"large",clearable:"","on-select":h},{prefix:r(()=>[t(i,null,{default:r(()=>[t(B(V))]),_:1})]),suffix:r(()=>[t(i,{onClick:w,style:{cursor:"pointer","margin-left":"1rem"},size:"20"},{default:r(()=>[t(B(O))]),_:1})]),_:1},8,["value","options","menu-props"])])}}}),Y=j(X,[["__scopeId","data-v-07486b32"]]),Z={},ee={class:"foot-container"},te={class:"div-2"};function ne(N,l){const d=u("n-grid-item"),f=u("n-grid");return x(),S("div",ee,[l[3]||(l[3]=s("div",{class:"div-1"},[s("div",{style:{color:"white","font-weight":"bold","font-size":"3rem","margin-bottom":"1rem"}}," Subscribe to our emails "),s("div",{class:"card-content"}," Be the first to know about new collections and exclusive offers. ")],-1)),s("div",te,[t(f,{cols:"3","item-responsive":"","x-gap":"20",style:{"margin-bottom":"2rem"}},{default:r(()=>[t(d,{style:{"margin-top":"4rem"},span:"3 720:1"},{default:r(()=>l[0]||(l[0]=[s("div",{class:"card-head"},"Shop",-1),s("div",{class:"card-content"},"Find us on Alibaba.com",-1)])),_:1}),t(d,{style:{"margin-top":"4rem"},span:"3 720:1"},{default:r(()=>l[1]||(l[1]=[s("div",{class:"card-head"},"Our mission",-1),s("div",{class:"card-content"},"We make the greatest roto-moulding sanitation prodcuts so you can conduct your business anywhere.",-1)])),_:1}),t(d,{style:{"margin-top":"4rem"},span:"3 720:1"},{default:r(()=>l[2]||(l[2]=[s("div",{class:"card-head"},"About",-1)])),_:1})]),_:1})]),l[4]||(l[4]=s("div",{style:{"justify-content":"center",display:"flex","align-items":"center"}},[s("div",{class:"div-foot"}," Â© 2024, SunriseToilet ")],-1))])}const oe=j(Z,[["render",ne],["__scopeId","data-v-e0ae6fd9"]]),re={class:"container",id:"drawer-target"},se={style:{"margin-bottom":"1rem"}},le={class:"div-sort"},ae={class:"product-list-container"},ie={class:"drop-down-head"},de={style:{"font-size":"small"}},ce=D({__name:"index",setup(N){const l=q(),d=m([]);H(()=>{let a=l.query.search;d.value=U(a),d.value.forEach(o=>{o.border="1px solid #0e1b4d"}),b()});const f=[{key:"Relevance",sort:a=>{}},{key:"Price, low to high",sort:a=>{a.sort((o,e)=>{let n=o.price.substring(1).replace(",",""),i=e.price.substring(1).replace(",","");return Number(n)-Number(i)})}},{key:"Price, high to low",sort:a=>{a.sort((o,e)=>{let n=o.price.substring(1).replace(",",""),i=e.price.substring(1).replace(",","");return Number(i)-Number(n)})}}],p=m("Relevance"),h=m([]),b=()=>{f.forEach(a=>{h.value.push({label:a.key,value:a.key})})},_=m({key:"Relevance",sort:a=>{}}),w=a=>{_.value=f.find(o=>o.key===a),p.value=_.value.key,_.value.sort(d.value)},g=m(!1),k=()=>{g.value=!0};return(a,o)=>{const e=u("n-grid-item"),n=u("n-select"),i=u("n-icon"),c=u("n-button"),y=u("n-grid"),M=u("n-drawer-content"),L=u("n-drawer");return x(),S(P,null,[t(F),s("div",re,[s("div",se,[t(Y)]),s("div",le,[t(y,{cols:"10","item-responsive":""},{default:r(()=>[t(e,{span:"0 720:6"}),t(e,{style:{display:"flex","justify-content":"center","align-items":"center"},span:"0 720:1"},{default:r(()=>o[3]||(o[3]=[E(" Sort by: ")])),_:1}),t(e,{span:"0 720:2"},{default:r(()=>[t(n,{value:p.value,"onUpdate:value":o[0]||(o[0]=v=>p.value=v),options:h.value,"on-update:value":w,"consistent-menu-width":!1},null,8,["value","options"])]),_:1}),t(e,{style:{display:"flex","justify-content":"center","align-items":"center"},span:"2 720:0"},{default:r(()=>[t(c,{text:"",onClick:k},{icon:r(()=>[t(i,null,{default:r(()=>[t(B(K))]),_:1})]),default:r(()=>[o[4]||(o[4]=E(" Sort "))]),_:1})]),_:1}),t(e,{span:"6 720:0"}),t(e,{style:{display:"flex","justify-content":"center","align-items":"center"},span:"2 720:1"},{default:r(()=>[E(R(d.value.length+" results"),1)]),_:1})]),_:1})]),s("div",ae,[t(y,{cols:"4","item-responsive":""},{default:r(()=>[(x(!0),S(P,null,W(d.value,(v,T)=>(x(),G(e,{span:"2 720:1",key:T},{default:r(()=>[t(J,{card:v},null,8,["card"])]),_:2},1024))),128))]),_:1})]),t(oe)]),t(L,{show:g.value,"onUpdate:show":o[2]||(o[2]=v=>g.value=v),style:{width:"80%"},placement:"right","trap-focus":!1,"block-scroll":!0},{default:r(()=>[t(M,{closable:""},{header:r(()=>[s("div",ie,[o[5]||(o[5]=s("div",{style:{"margin-bottom":"1rem"}},"Sort",-1)),s("div",de,R(d.value.length+" results"),1)])]),default:r(()=>[t(y,{cols:"6",style:{"margin-top":"3rem"}},{default:r(()=>[t(e,{span:"2"},{default:r(()=>o[6]||(o[6]=[s("div",null,"Sort by",-1)])),_:1}),t(e,{span:"4"},{default:r(()=>[s("div",null,[t(n,{value:p.value,"onUpdate:value":o[1]||(o[1]=v=>p.value=v),options:h.value,"on-update:value":w,"consistent-menu-width":!1},null,8,["value","options"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])],64)}}}),fe=j(ce,[["__scopeId","data-v-84874ae4"]]);export{fe as default};
